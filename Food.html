
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dog Food Tracker</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    textarea, select {
      width: 100%;
      box-sizing: border-box;
    }
    .section {
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 10px;
      margin-bottom: 20px;
    }
    .flex-row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .column {
      flex: 1;
      min-width: 120px;
    }
    button {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <h2>Dog Food Tracker</h2>

  <div class="section">
    <h3>Dog Groups</h3>
    <div class="flex-row">
      <div class="column">
        <label>Old Males</label>
        <textarea id="oldMales"></textarea>
      </div>
      <div class="column">
        <label>Old Females</label>
        <textarea id="oldFemales"></textarea>
      </div>
      <div class="column">
        <label>Young Males</label>
        <textarea id="youngMales"></textarea>
      </div>
      <div class="column">
        <label>Young Females</label>
        <textarea id="youngFemales"></textarea>
      </div>
    </div>
    <button onclick="saveDogGroups()" style="background-color: green; color: white;">üíæ Save</button>
  </div>

  <div class="section">
    <h3>Assign Dogs to Cup Sizes</h3>
    <div class="flex-row">
      <div class="column">
        <label><input type="radio" name="group" value="oldMales" checked> Old Males</label><br/>
        <label><input type="radio" name="group" value="oldFemales"> Old Females</label><br/>
        <label><input type="radio" name="group" value="youngMales"> Young Males</label><br/>
        <label><input type="radio" name="group" value="youngFemales"> Young Females</label>
      </div>
      <div class="column">
        <select id="dogListBox" size="8"></select>
      </div>
      <div class="column">
        <button onclick="assignCup(2)">2</button>
        <button onclick="assignCup(3)">3</button>
        <button onclick="assignCup(4)">4</button>
        <button onclick="unassignDog()">‚Üê</button>
      </div>
      <div class="column">
        <label>2 Cups</label>
        <textarea id="cup2"></textarea>
      </div>
      <div class="column">
        <label>3 Cups</label>
        <textarea id="cup3"></textarea>
      </div>
      <div class="column">
        <label>4 Cups</label>
        <textarea id="cup4"></textarea>
      </div>
    </div>
  </div>

<script>
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const groupMap = {
    oldMales: 'Old Males',
    oldFemales: 'Old Females',
    youngMales: 'Young Males',
    youngFemales: 'Young Females'
  };

  function saveDogGroups() {
    const data = {
      oldMales: document.getElementById('oldMales').value,
      oldFemales: document.getElementById('oldFemales').value,
      youngMales: document.getElementById('youngMales').value,
      youngFemales: document.getElementById('youngFemales').value
    };
    db.collection('dogFood').doc('dogGroups').set(data).then(loadDogList);
  }

  function loadDogList() {
    const selected = document.querySelector('input[name="group"]:checked').value;
    db.collection('dogFood').doc('dogGroups').get().then(doc => {
      if (doc.exists) {
        const dogs = doc.data()[selected].split('\n').map(name => name.trim()).filter(Boolean);
        const dogList = document.getElementById('dogListBox');
        dogList.innerHTML = '';
        dogs.forEach(name => {
          const option = document.createElement('option');
          option.value = option.text = name;
          dogList.appendChild(option);
        });
      }
    });
  }

  document.querySelectorAll('input[name="group"]').forEach(radio =>
    radio.addEventListener('change', loadDogList)
  );

  function assignCup(cup) {
    const list = document.getElementById('dogListBox');
    const name = list.value;
    if (!name) return;
    const cupBox = document.getElementById('cup' + cup);
    cupBox.value += (cupBox.value ? '\n' : '') + name;
    list.remove(list.selectedIndex);
  }

  function unassignDog() {
    const groups = document.querySelector('input[name="group"]:checked').value;
    const name = prompt("Enter name to move back:");
    if (!name) return;
    const dogList = document.getElementById('dogListBox');
    const option = document.createElement('option');
    option.value = option.text = name;
    dogList.appendChild(option);
  }

  window.onload = loadDogList;
</script>
</body>
</html>
